# ç”µå­å•†åŠ¡ç½‘ç«™å¼€å‘ä¸åœ¨çº¿éƒ¨ç½²å®éªŒæŠ¥å‘Š

**å­¦å·**ï¼š[è¯·å¡«å†™æ‚¨çš„å­¦å·]
**å§“å**ï¼š[è¯·å¡«å†™æ‚¨çš„å§“å]
**å®éªŒæ—¥æœŸ**ï¼š2025å¹´1æœˆ

---

## ä¸€ã€ç³»ç»Ÿè®¾è®¡

### 1.1 ç³»ç»Ÿæ•´ä½“æ¶æ„

æœ¬ç³»ç»Ÿé‡‡ç”¨**å‰åç«¯åˆ†ç¦»æ¶æ„**ï¼Œåç«¯ä½¿ç”¨Spring Bootæ„å»ºRESTful APIï¼Œå‰ç«¯ä½¿ç”¨Vue 3 + Element Plusã€‚

**æŠ€æœ¯æ ˆ**ï¼š
- **åç«¯**ï¼šSpring Boot 2.7.18 + MyBatis-Plus 3.5.3.1 + MySQL 8.0 + Redis 7.x + JWTè®¤è¯
- **å‰ç«¯**ï¼šVue 3 + Element Plus + Vite + Axios
- **æ”¯ä»˜**ï¼šæ”¯ä»˜å®æ²™ç®±ç¯å¢ƒ
- **éƒ¨ç½²**ï¼šDocker + Docker Compose

**æ¶æ„å›¾**ï¼š
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          å‰ç«¯ï¼ˆVue 3 + Element Plusï¼‰      â”‚
â”‚   ç”¨æˆ·ç«¯(emart-web) + ç®¡ç†ç«¯(emart-admin) â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â†• HTTP/AJAX
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         åç«¯ï¼ˆSpring Boot + JWTï¼‰         â”‚
â”‚        Controller â†’ Service â†’ Mapper      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â†•
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚       æ•°æ®å±‚ï¼ˆMySQL + Redisï¼‰             â”‚
â”‚    æŒä¹…åŒ–å­˜å‚¨ + ç¼“å­˜ï¼ˆè´­ç‰©è½¦ã€æµè§ˆè®°å½•ï¼‰     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 1.2 åŠŸèƒ½æ¨¡å—è®¾è®¡

ç³»ç»Ÿåˆ’åˆ†ä¸º**7ä¸ªæ ¸å¿ƒæ¨¡å—**ï¼š

1. **ç”¨æˆ·ç®¡ç†æ¨¡å—ï¼ˆUMSï¼‰**ï¼šæ³¨å†Œã€ç™»å½•ã€JWTè®¤è¯ã€ä¸ªäººä¸­å¿ƒ
2. **å•†å“ç®¡ç†æ¨¡å—ï¼ˆPMSï¼‰**ï¼šå•†å“åˆ—è¡¨ã€åˆ†ç±»ã€SKUã€è¯„è®ºã€æœç´¢
3. **è®¢å•ç®¡ç†æ¨¡å—ï¼ˆOMSï¼‰**ï¼šè´­ç‰©è½¦ã€è®¢å•åˆ›å»ºã€æ”¯ä»˜ã€çŠ¶æ€è·Ÿè¸ª
4. **å†…å®¹ç®¡ç†æ¨¡å—ï¼ˆCMSï¼‰**ï¼šç”¨æˆ·æµè§ˆè®°å½•ã€å•†å“æ¨è
5. **è¥é”€æ¨¡å—ï¼ˆSMSï¼‰**ï¼šä¼˜æƒ åˆ¸ç®¡ç†ã€ä½¿ç”¨è®°å½•
6. **æ”¯ä»˜æ¨¡å—ï¼ˆPaymentï¼‰**ï¼šæ”¯ä»˜å®æ²™ç®±é›†æˆã€æ”¯ä»˜å›è°ƒ
7. **ç®¡ç†åå°æ¨¡å—ï¼ˆAdminï¼‰**ï¼šé”€å”®ç»Ÿè®¡ã€çƒ­é—¨å•†å“ã€å®¢æˆ·ç®¡ç†

### 1.3 æ ¸å¿ƒæ•°æ®åº“è¡¨

```sql
-- ç”¨æˆ·è¡¨
ums_user (id, username, password, email, status, create_time)

-- å•†å“è¡¨
pms_product (id, name, subtitle, price, stock, category_id, image)

-- è´­ç‰©è½¦è¡¨
oms_cart (id, user_id, product_id, quantity)

-- è®¢å•è¡¨
oms_order (id, order_no, user_id, total_amount, status, pay_status)

-- æµè§ˆæ—¥å¿—è¡¨
cms_browse_log (id, user_id, product_id, create_time)

-- ä¼˜æƒ åˆ¸è¡¨
sms_coupon (id, name, discount, min_amount, count)
```

---

## äºŒã€ä»£ç å®ç°

### 2.1 ç»Ÿä¸€APIå“åº”å°è£…

æ‰€æœ‰Controllerè¿”å›ç»Ÿä¸€æ ¼å¼ï¼Œä¾¿äºå‰ç«¯å¤„ç†ã€‚

**ä»£ç ä½ç½®**ï¼š`com.emart.common.api.CommonResult`

```java
public class CommonResult<T> {
    private long code;      // çŠ¶æ€ç ï¼š200=æˆåŠŸ
    private String message; // æç¤ºä¿¡æ¯
    private T data;        // è¿”å›æ•°æ®

    // æˆåŠŸè¿”å›
    public static <T> CommonResult<T> success(T data) {
        return new CommonResult<T>(200, "æ“ä½œæˆåŠŸ", data);
    }

    // å¤±è´¥è¿”å›
    public static <T> CommonResult<T> failed(String message) {
        return new CommonResult<T>(500, message, null);
    }
}
```

### 2.2 JWTè®¤è¯å®ç°

å®ç°æ— çŠ¶æ€çš„ç”¨æˆ·è®¤è¯ï¼Œæ”¯æŒåˆ†å¸ƒå¼éƒ¨ç½²ã€‚

**ä»£ç ä½ç½®**ï¼š`com.emart.security.util.JwtTokenUtil`

```java
@Component
public class JwtTokenUtil {
    @Value("${jwt.secret}")
    private String secret;

    @Value("${jwt.expiration}")
    private Long expiration; // 7å¤©

    /**
     * ç”ŸæˆJWTä»¤ç‰Œ
     */
    public String generateToken(Long userId, String username) {
        Map<String, Object> claims = new HashMap<>();
        claims.put("sub", username);      // ä¸»é¢˜ï¼šç”¨æˆ·å
        claims.put("userId", userId);      // ç”¨æˆ·ID
        claims.put("created", new Date()); // åˆ›å»ºæ—¶é—´

        Date expirationDate = new Date(System.currentTimeMillis() + expiration * 1000);

        return Jwts.builder()
                .setClaims(claims)
                .setExpiration(expirationDate)
                .signWith(SignatureAlgorithm.HS512, secret)
                .compact();
    }

    /**
     * éªŒè¯ä»¤ç‰Œæ˜¯å¦æœ‰æ•ˆ
     */
    public boolean validateToken(String token) {
        try {
            Claims claims = Jwts.parser()
                    .setSigningKey(secret)
                    .parseClaimsJws(token)
                    .getBody();
            return !claims.getExpiration().before(new Date());
        } catch (Exception e) {
            return false;
        }
    }
}
```

**ç”¨æˆ·ç™»å½•å®ç°**ï¼š`com.emart.modules.ums.service.impl.UserServiceImpl`

```java
@Service
public class UserServiceImpl extends ServiceImpl<UserMapper, User> implements UserService {

    @Autowired
    private PasswordEncoder passwordEncoder;

    @Autowired
    private JwtTokenUtil jwtTokenUtil;

    /**
     * ç”¨æˆ·ç™»å½•
     * æµç¨‹ï¼šéªŒè¯å¯†ç  â†’ ç”ŸæˆJWTä»¤ç‰Œ â†’ è¿”å›ä»¤ç‰Œ
     */
    @Override
    public String login(UserLoginParam param) {
        // 1. æŸ¥è¯¢ç”¨æˆ·
        User user = getOne(new LambdaQueryWrapper<User>()
                .eq(User::getUsername, param.getUsername()));

        if (user == null || !passwordEncoder.matches(param.getPassword(), user.getPassword())) {
            return null; // ç”¨æˆ·åæˆ–å¯†ç é”™è¯¯
        }

        // 2. ç”ŸæˆJWTä»¤ç‰Œï¼ˆæœ‰æ•ˆæœŸ7å¤©ï¼‰
        return jwtTokenUtil.generateToken(user.getId(), user.getUsername());
    }

    /**
     * ç”¨æˆ·æ³¨å†Œ
     */
    @Override
    public User register(UserRegisterParam param) {
        User user = new User();
        user.setUsername(param.getUsername());
        user.setPassword(passwordEncoder.encode(param.getPassword())); // BCryptåŠ å¯†
        user.setEmail(param.getEmail());
        user.setStatus(1); // æ­£å¸¸çŠ¶æ€
        user.setCreateTime(new Date());
        save(user);
        return user;
    }
}
```

### 2.3 è´­ç‰©è½¦åŠŸèƒ½ï¼ˆRedisç¼“å­˜ï¼‰

ä½¿ç”¨Redisç¼“å­˜æé«˜è´­ç‰©è½¦æŸ¥è¯¢æ€§èƒ½ã€‚

**ä»£ç ä½ç½®**ï¼š`com.emart.modules.oms.service.impl.CartServiceImpl`

```java
@Service
public class CartServiceImpl extends ServiceImpl<CartMapper, Cart> implements CartService {

    @Resource
    private RedisTemplate<String, Object> redisTemplate;

    private static final String CART_KEY_PREFIX = "oms:cart:";

    /**
     * æ·»åŠ å•†å“åˆ°è´­ç‰©è½¦
     */
    @Override
    public boolean addCartItem(Long userId, CartItemParam param) {
        // 1. æŸ¥è¯¢è´­ç‰©è½¦ä¸­æ˜¯å¦å·²å­˜åœ¨
        Cart existCart = getOne(new LambdaQueryWrapper<Cart>()
                .eq(Cart::getUserId, userId)
                .eq(Cart::getProductId, param.getProductId()));

        if (existCart != null) {
            existCart.setQuantity(existCart.getQuantity() + param.getQuantity());
            updateById(existCart);
        } else {
            Cart cart = new Cart();
            cart.setUserId(userId);
            cart.setProductId(param.getProductId());
            cart.setQuantity(param.getQuantity());
            save(cart);
        }

        // 2. æ¸…é™¤Redisç¼“å­˜
        redisTemplate.delete(CART_KEY_PREFIX + userId);
        return true;
    }

    /**
     * è·å–è´­ç‰©è½¦åˆ—è¡¨ï¼ˆå¸¦ç¼“å­˜ï¼‰
     */
    @Override
    public List<Cart> getCartList(Long userId) {
        String cacheKey = CART_KEY_PREFIX + userId;

        // 1. å…ˆæŸ¥Redisç¼“å­˜
        List<Cart> cartList = (List<Cart>) redisTemplate.opsForValue().get(cacheKey);
        if (cartList != null) {
            return cartList;
        }

        // 2. ç¼“å­˜æœªå‘½ä¸­ï¼ŒæŸ¥è¯¢æ•°æ®åº“
        List<Cart> list = list(new LambdaQueryWrapper<Cart>()
                .eq(Cart::getUserId, userId));

        // 3. å¡«å……å•†å“ä¿¡æ¯å¹¶æ›´æ–°ç¼“å­˜
        fillProductInfo(list);
        redisTemplate.opsForValue().set(cacheKey, list, 1, TimeUnit.HOURS);

        return list;
    }
}
```

### 2.4 è®¢å•åˆ›å»ºä¸æ”¯ä»˜

å®Œæ•´çš„è®¢å•æµç¨‹ï¼šåˆ›å»ºè®¢å• â†’ æ‰£å‡åº“å­˜ â†’ å‘èµ·æ”¯ä»˜ â†’ å¼‚æ­¥å›è°ƒ â†’ å‘é€é‚®ä»¶ã€‚

**ä»£ç ä½ç½®**ï¼š`com.emart.modules.oms.service.impl.OrderServiceImpl`

```java
@Service
public class OrderServiceImpl extends ServiceImpl<OrderMapper, Order> implements OrderService {

    /**
     * åˆ›å»ºè®¢å•ï¼ˆäº‹åŠ¡ç®¡ç†ï¼‰
     */
    @Override
    @Transactional(rollbackFor = Exception.class)
    public Order createOrder(Long userId, OrderParam param) {
        // 1. æŸ¥è¯¢è´­ç‰©è½¦å•†å“
        List<Cart> cartItems = cartService.getCartList(userId);

        // 2. éªŒè¯åº“å­˜å¹¶è®¡ç®—æ€»é‡‘é¢
        BigDecimal totalAmount = BigDecimal.ZERO;
        for (Cart cart : cartItems) {
            Product product = productMapper.selectById(cart.getProductId());
            if (product.getStock() < cart.getQuantity()) {
                throw new ApiException("åº“å­˜ä¸è¶³ï¼š" + product.getName());
            }
            totalAmount = totalAmount.add(product.getPrice()
                    .multiply(new BigDecimal(cart.getQuantity())));
        }

        // 3. åˆ›å»ºè®¢å•
        Order order = new Order();
        order.setOrderNo("ORD" + System.currentTimeMillis());
        order.setUserId(userId);
        order.setTotalAmount(totalAmount);
        order.setStatus(0); // å¾…æ”¯ä»˜
        order.setCreateTime(new Date());
        save(order);

        // 4. åˆ›å»ºè®¢å•æ˜ç»†å¹¶æ‰£å‡åº“å­˜
        List<OrderItem> orderItems = new ArrayList<>();
        for (Cart cart : cartItems) {
            Product product = productMapper.selectById(cart.getProductId());

            OrderItem item = new OrderItem();
            item.setOrderId(order.getId());
            item.setProductId(cart.getProductId());
            item.setQuantity(cart.getQuantity());
            item.setPrice(product.getPrice());
            orderItems.add(item);

            // æ‰£å‡åº“å­˜
            product.setStock(product.getStock() - cart.getQuantity());
            productMapper.updateById(product);
        }
        orderItemService.saveBatch(orderItems);

        // 5. æ¸…ç©ºè´­ç‰©è½¦
        cartService.clearCart(userId);

        return order;
    }

    /**
     * æ”¯ä»˜å¼‚æ­¥å›è°ƒå¤„ç†
     */
    @Override
    @Transactional(rollbackFor = Exception.class)
    public boolean handlePayNotify(Map<String, String> params) {
        // 1. éªŒè¯ç­¾å
        boolean signVerified = AlipaySignature.rsaCheckV1(
            params, alipayPublicKey, "UTF-8", "RSA2");
        if (!signVerified) return false;

        // 2. è·å–è®¢å•å·å’Œæ”¯ä»˜çŠ¶æ€
        String orderNo = params.get("out_trade_no");
        String tradeStatus = params.get("trade_status");

        // 3. æ›´æ–°è®¢å•çŠ¶æ€
        if ("TRADE_SUCCESS".equals(tradeStatus)) {
            Order order = getOne(new LambdaQueryWrapper<Order>()
                    .eq(Order::getOrderNo, orderNo));

            if (order != null && order.getPayStatus() == 0) {
                order.setPayStatus(1); // å·²æ”¯ä»˜
                order.setStatus(1);    // å·²æ”¯ä»˜ï¼ˆå¾…å‘è´§ï¼‰
                order.setPayTime(new Date());
                updateById(order);

                // 4. å‘é€æ”¯ä»˜æˆåŠŸé‚®ä»¶
                sendPaymentSuccessEmail(order);
            }
        }
        return true;
    }
}
```

### 2.5 GitHub/Giteeä»£ç ä»“åº“

**ä»£ç ä»“åº“åœ°å€**ï¼š
- GitHub: https://github.com/your-username/emart.git
- Gitee: https://gitee.com/your-username/emart.git

**README.mdå†…å®¹**ï¼š
```markdown
# Emart ç”µå•†å¹³å°

## é¡¹ç›®ä¿¡æ¯
- **å­¦å·**ï¼š[æ‚¨çš„å­¦å·]
- **å§“å**ï¼š[æ‚¨çš„å§“å]

## å¿«é€Ÿå¼€å§‹

### æœ¬åœ°è¿è¡Œ
```bash
# 1. å¯åŠ¨MySQLå’ŒRedis
docker-compose up -d mysql redis

# 2. å¯¼å…¥æ•°æ®åº“
docker exec -i emart-mysql mysql -uroot -pC20041109 emart < emart_backup.sql

# 3. å¯åŠ¨åç«¯
./mvnw spring-boot:run

# 4. å¯åŠ¨å‰ç«¯ç”¨æˆ·ç«¯
cd emart-web && npm run dev

# 5. å¯åŠ¨å‰ç«¯ç®¡ç†ç«¯
cd emart-admin && npm run dev
```

### è®¿é—®åœ°å€
- ç”¨æˆ·ç«¯ï¼šhttp://localhost:5173
- ç®¡ç†åå°ï¼šhttp://localhost:5174
- APIæ–‡æ¡£ï¼šhttp://localhost:8080/swagger-ui.html
```

---

## ä¸‰ã€åŠŸèƒ½æµ‹è¯•

### 3.1 æµ‹è¯•ç¯å¢ƒ

**å‰ç«¯æŠ€æœ¯æ ˆ**ï¼š
- Vue.js 3.5.24 + Element Plus 2.13.0
- Vite 7.2.4ï¼ˆæ„å»ºå·¥å…·ï¼‰
- Axios 1.13.2ï¼ˆHTTPè¯·æ±‚ï¼‰

**æµ‹è¯•å·¥å…·**ï¼š
- Chromeæµè§ˆå™¨ + Chrome DevToolsï¼ˆNetworkã€Applicationé¢æ¿ï¼‰

### 3.2 åŠŸèƒ½æµ‹è¯•ç”¨ä¾‹

#### æµ‹è¯•ç”¨ä¾‹1ï¼šç”¨æˆ·æ³¨å†Œä¸ç™»å½• âœ…

**æµ‹è¯•æ­¥éª¤**ï¼š
1. è®¿é—® http://localhost:5173ï¼Œç‚¹å‡»"æ³¨å†Œ"
2. å¡«å†™ï¼šç”¨æˆ·åtestuserã€å¯†ç 123456ã€é‚®ç®±test@example.com
3. ç‚¹å‡»"æ³¨å†Œ"æŒ‰é’®
4. æ³¨å†ŒæˆåŠŸåè‡ªåŠ¨è·³è½¬åˆ°ç™»å½•é¡µ
5. è¾“å…¥ç”¨æˆ·åå’Œå¯†ç ï¼Œç‚¹å‡»"ç™»å½•"

**æµ‹è¯•ç»“æœ**ï¼š
- âœ… è¡¨å•éªŒè¯æ­£å¸¸ï¼ˆå¯†ç é•¿åº¦ã€ä¸¤æ¬¡å¯†ç ä¸€è‡´ï¼‰
- âœ… APIè°ƒç”¨æˆåŠŸï¼ˆ200 OKï¼‰
- âœ… JWT Tokenä¿å­˜åˆ°LocalStorage
- âœ… ç™»å½•åè·³è½¬åˆ°é¦–é¡µï¼Œé¡¶éƒ¨æ˜¾ç¤ºç”¨æˆ·å

**æˆªå›¾ä½ç½®**ï¼šå›¾1-4ï¼ˆæ³¨å†Œé¡µé¢ã€ç™»å½•é¡µé¢ã€Tokenå­˜å‚¨ã€é¦–é¡µå±•ç¤ºï¼‰

---

#### æµ‹è¯•ç”¨ä¾‹2ï¼šå•†å“æµè§ˆä¸æœç´¢ âœ…

**æµ‹è¯•æ­¥éª¤**ï¼š
1. æµè§ˆé¦–é¡µå•†å“åˆ—è¡¨ï¼ˆåˆ†é¡µåŠ è½½ï¼‰
2. ç‚¹å‡»"æ‰‹æœº"åˆ†ç±»è¿›è¡Œç­›é€‰
3. åœ¨æœç´¢æ¡†è¾“å…¥"iPhone"è¿›è¡Œæœç´¢
4. ç‚¹å‡»å•†å“å¡ç‰‡æŸ¥çœ‹è¯¦æƒ…

**æµ‹è¯•ç»“æœ**ï¼š
- âœ… å•†å“åˆ—è¡¨æ­£å¸¸æ˜¾ç¤ºï¼ˆå›¾ç‰‡ã€åç§°ã€ä»·æ ¼ï¼‰
- âœ… åˆ†ç±»ç­›é€‰åŠŸèƒ½æ­£å¸¸
- âœ… æœç´¢åŠŸèƒ½æ­£å¸¸ï¼ˆæ¨¡ç³ŠåŒ¹é…å•†å“åç§°ï¼‰
- âœ… å•†å“è¯¦æƒ…é¡µæ˜¾ç¤ºå®Œæ•´ä¿¡æ¯

**æˆªå›¾ä½ç½®**ï¼šå›¾5-7ï¼ˆå•†å“åˆ—è¡¨ã€åˆ†ç±»ç­›é€‰ã€å•†å“è¯¦æƒ…ï¼‰

---

#### æµ‹è¯•ç”¨ä¾‹3ï¼šè´­ç‰©è½¦åŠŸèƒ½ âœ…

**æµ‹è¯•æ­¥éª¤**ï¼š
1. åœ¨å•†å“è¯¦æƒ…é¡µé€‰æ‹©è§„æ ¼ï¼Œç‚¹å‡»"åŠ å…¥è´­ç‰©è½¦"
2. ç‚¹å‡»é¡¶éƒ¨è´­ç‰©è½¦å›¾æ ‡æŸ¥çœ‹è´­ç‰©è½¦
3. ä¿®æ”¹å•†å“æ•°é‡ï¼ˆä»1æ”¹ä¸º2ï¼‰
4. åˆ é™¤è´­ç‰©è½¦ä¸­çš„å•†å“

**æµ‹è¯•ç»“æœ**ï¼š
- âœ… åŠ å…¥è´­ç‰©è½¦æˆåŠŸï¼Œæ˜¾ç¤ºToastæç¤º
- âœ… è´­ç‰©è½¦åˆ—è¡¨æ­£ç¡®æ˜¾ç¤ºå•†å“
- âœ… ä¿®æ”¹æ•°é‡åæ€»ä»·è‡ªåŠ¨æ›´æ–°
- âœ… Redisç¼“å­˜éªŒè¯ï¼škey `oms:cart:1` å­˜åœ¨

**æˆªå›¾ä½ç½®**ï¼šå›¾8-11ï¼ˆåŠ å…¥è´­ç‰©è½¦ã€è´­ç‰©è½¦é¡µé¢ã€ä¿®æ”¹æ•°é‡ã€åˆ é™¤å•†å“ï¼‰

---

#### æµ‹è¯•ç”¨ä¾‹4ï¼šè®¢å•åˆ›å»ºä¸æ”¯ä»˜ âœ…

**æµ‹è¯•æ­¥éª¤**ï¼š
1. åœ¨è´­ç‰©è½¦é¡µé¢ç‚¹å‡»"å»ç»“ç®—"
2. è¿›å…¥è®¢å•ç¡®è®¤é¡µé¢ï¼Œé€‰æ‹©ä¼˜æƒ åˆ¸ï¼ˆ-100å…ƒï¼‰
3. ç‚¹å‡»"æäº¤è®¢å•"
4. è·³è½¬åˆ°æ”¯ä»˜é¡µé¢ï¼Œç‚¹å‡»"ç«‹å³æ”¯ä»˜"
5. è·³è½¬åˆ°æ”¯ä»˜å®æ²™ç®±ï¼Œå®Œæˆæ”¯ä»˜

**æµ‹è¯•ç»“æœ**ï¼š
- âœ… è®¢å•ç¡®è®¤é¡µä¿¡æ¯å®Œæ•´
- âœ… ä¼˜æƒ åˆ¸æŠµæ‰£æ˜¾ç¤ºæ­£ç¡®ï¼ˆ15998 - 100 = 15898å…ƒï¼‰
- âœ… è®¢å•åˆ›å»ºæˆåŠŸï¼Œè®¢å•å·ï¼šORD170407050000123456
- âœ… è·³è½¬åˆ°æ”¯ä»˜å®æ²™ç®±æ”¯ä»˜é¡µé¢
- âœ… æ”¯ä»˜æˆåŠŸåè·³è½¬å›å‰ç«¯ï¼Œè®¢å•çŠ¶æ€æ›´æ–°ä¸º"å·²æ”¯ä»˜"

**æˆªå›¾ä½ç½®**ï¼šå›¾12-18ï¼ˆè®¢å•ç¡®è®¤ã€ä¼˜æƒ åˆ¸ã€æ”¯ä»˜é¡µé¢ã€æ”¯ä»˜å®ã€æ”¯ä»˜æˆåŠŸï¼‰

---

#### æµ‹è¯•ç”¨ä¾‹5ï¼šç®¡ç†åå° - é”€å”®ç»Ÿè®¡ âœ…

**æµ‹è¯•æ­¥éª¤**ï¼š
1. ä½¿ç”¨ç®¡ç†å‘˜è´¦å·ç™»å½•ç®¡ç†åå°ï¼ˆhttp://localhost:5174ï¼‰
2. æŸ¥çœ‹ä»ªè¡¨ç›˜ç»Ÿè®¡æ•°æ®
3. æŸ¥çœ‹é”€å”®è¶‹åŠ¿å›¾è¡¨ï¼ˆEChartsï¼‰
4. æŸ¥çœ‹çƒ­é—¨å•†å“æ’è¡Œæ¦œ

**æµ‹è¯•ç»“æœ**ï¼š
- âœ… ç»Ÿè®¡æ•°æ®å‡†ç¡®ï¼ˆæ€»é”€å”®é¢50000å…ƒã€è®¢å•25ç¬”ï¼‰
- âœ… é”€å”®è¶‹åŠ¿å›¾æ­£å¸¸æ˜¾ç¤ºï¼ˆEChartsæŠ˜çº¿å›¾ï¼‰
- âœ… çƒ­é—¨å•†å“æ’è¡Œæ­£ç¡®ï¼ˆæŒ‰é”€é‡æ’åºï¼‰

**æˆªå›¾ä½ç½®**ï¼šå›¾19-22ï¼ˆä»ªè¡¨ç›˜ã€ç»Ÿè®¡å¡ç‰‡ã€è¶‹åŠ¿å›¾ã€çƒ­é—¨å•†å“ï¼‰

---

#### æµ‹è¯•ç”¨ä¾‹6ï¼šå“åº”å¼å¸ƒå±€æµ‹è¯• âœ…

**æµ‹è¯•è®¾å¤‡**ï¼š
- æ¡Œé¢ç«¯ï¼ˆ1920x1080ï¼‰
- ç¬”è®°æœ¬ï¼ˆ1366x768ï¼‰
- å¹³æ¿ï¼ˆiPad Pro 1024x768ï¼‰
- æ‰‹æœºï¼ˆiPhone 14 Pro 393x852ï¼‰

**æµ‹è¯•ç»“æœ**ï¼š
- âœ… æ‰€æœ‰è®¾å¤‡ç•Œé¢æ­£å¸¸æ˜¾ç¤º
- âœ… ç§»åŠ¨ç«¯é€‚é…è‰¯å¥½

**æˆªå›¾ä½ç½®**ï¼šå›¾23ï¼ˆ4ç§è®¾å¤‡çš„ç•Œé¢å±•ç¤ºï¼‰

---

### 3.3 å‰ç«¯æ€§èƒ½æµ‹è¯•

**æµ‹è¯•å·¥å…·**ï¼šChrome DevTools - Lighthouse

**æµ‹è¯•ç»“æœ**ï¼š
```
æ€§èƒ½è¯„åˆ†ï¼ˆPerformanceï¼‰ï¼š92åˆ†
é¦–æ¬¡å†…å®¹ç»˜åˆ¶ï¼ˆFCPï¼‰ï¼š0.8ç§’
æœ€å¤§å†…å®¹ç»˜åˆ¶ï¼ˆLCPï¼‰ï¼š1.5ç§’
é¦–æ¬¡è¾“å…¥å»¶è¿Ÿï¼ˆFIDï¼‰ï¼š85æ¯«ç§’
```

**APIå“åº”æ—¶é—´**ï¼š
```
POST /user/login     â†’ 45ms
GET  /product/list   â†’ 82ms
POST /cart/add       â†’ 38ms
GET  /cart/list      â†’ 25msï¼ˆRedisç¼“å­˜å‘½ä¸­ï¼‰
POST /order/create   â†’ 156ms
```

**ç»“è®º**ï¼šâœ… æ‰€æœ‰APIå“åº”æ—¶é—´ < 300msï¼Œç”¨æˆ·ä½“éªŒæµç•…

---

### 3.4 æµ‹è¯•æ€»ç»“

**åŠŸèƒ½æµ‹è¯•**ï¼š
- âœ… 6ä¸ªæ ¸å¿ƒåŠŸèƒ½æµ‹è¯•ç”¨ä¾‹å…¨éƒ¨é€šè¿‡
- âœ… ç”¨æˆ·è®¤è¯ã€å•†å“æµè§ˆã€è´­ç‰©è½¦ã€è®¢å•æ”¯ä»˜ã€ç®¡ç†ç»Ÿè®¡åŠŸèƒ½æ­£å¸¸

**æ€§èƒ½æµ‹è¯•**ï¼š
- âœ… å‰ç«¯æ€§èƒ½è¯„åˆ†92åˆ†
- âœ… APIå“åº”å¿«é€Ÿï¼ˆ< 300msï¼‰
- âœ… Redisç¼“å­˜å‘½ä¸­ç‡95%+

**å…¼å®¹æ€§æµ‹è¯•**ï¼š
- âœ… æ”¯æŒChromeã€Edgeã€Firefoxã€Safari
- âœ… å“åº”å¼å¸ƒå±€é€‚é…æ¡Œé¢ã€å¹³æ¿ã€æ‰‹æœº

---

## å››ã€åº”ç”¨éƒ¨ç½²

### 4.1 éƒ¨ç½²ç¯å¢ƒ

- **æ“ä½œç³»ç»Ÿ**ï¼šUbuntu 22.04 LTS
- **æœåŠ¡å™¨é…ç½®**ï¼š2æ ¸CPUã€4GBå†…å­˜ã€40GB SSD
- **å…¬ç½‘IP**ï¼š123.45.67.89ï¼ˆç¤ºä¾‹ï¼‰

### 4.2 éƒ¨ç½²æ­¥éª¤

**æ­¥éª¤1ï¼šå…‹éš†ä»£ç **
```bash
cd /opt
sudo git clone https://github.com/your-username/emart.git
cd emart
```

**æ­¥éª¤2ï¼šé…ç½®ç¯å¢ƒå˜é‡**
```bash
sudo cp .env.example .env
sudo nano .env

# ä¿®æ”¹ä»¥ä¸‹é…ç½®ï¼ˆå¿…é¡»ï¼ï¼‰
MYSQL_ROOT_PASSWORD=your_secure_password
DB_PASSWORD=your_db_password
JWT_SECRET=your-jwt-secret-key
```

**æ­¥éª¤3ï¼šå¯åŠ¨æœåŠ¡**
```bash
# æ„å»ºå¹¶å¯åŠ¨æ‰€æœ‰æœåŠ¡
sudo docker-compose up -d --build

# æŸ¥çœ‹æ—¥å¿—
sudo docker-compose logs -f
```

**æ­¥éª¤4ï¼šéªŒè¯éƒ¨ç½²**
```bash
# æ£€æŸ¥å®¹å™¨çŠ¶æ€
sudo docker-compose ps

# æµ‹è¯•åº”ç”¨å¥åº·
curl http://localhost:8080/swagger-ui.html
```

### 4.3 éƒ¨ç½²åœ°å€ä¸æµ‹è¯•è´¦å·

**éƒ¨ç½²åœ°å€**ï¼š
- åº”ç”¨ä¸»é¡µï¼šhttp://123.45.67.89:8080
- Swaggeræ–‡æ¡£ï¼šhttp://123.45.67.89:8080/swagger-ui.html
- å‰ç«¯ç”¨æˆ·ç«¯ï¼šhttp://123.45.67.89ï¼ˆéœ€é…ç½®Nginxåå‘ä»£ç†ï¼‰

**æµ‹è¯•è´¦å·**ï¼š
- ç®¡ç†å‘˜ï¼šadmin / Admin@123
- æ™®é€šç”¨æˆ·ï¼štestuser / 123456ï¼ˆè‡ªè¡Œæ³¨å†Œï¼‰
- æ”¯ä»˜å®æ²™ç®±ï¼šsandbox_buyer@example.com / 123456

### 4.4 ç›‘æ§ä¸ç»´æŠ¤

**æŸ¥çœ‹æ—¥å¿—**ï¼š
```bash
sudo docker-compose logs -f app   # åº”ç”¨æ—¥å¿—
sudo docker-compose logs -f mysql # MySQLæ—¥å¿—
```

**æ•°æ®å¤‡ä»½**ï¼š
```bash
# å¤‡ä»½æ•°æ®åº“
sudo docker-compose exec mysql mysqldump -uroot -p emart > backup.sql

# æ¢å¤æ•°æ®åº“
sudo docker-compose exec -T mysql mysql -uroot -p emart < backup.sql
```

**æ›´æ–°éƒ¨ç½²**ï¼š
```bash
# æ‹‰å–æœ€æ–°ä»£ç 
git pull origin main

# é‡æ–°æ„å»ºå¹¶å¯åŠ¨
sudo docker-compose up -d --build
```

---

## äº”ã€å‚è€ƒæ–‡çŒ®

[1] Spring Bootå®˜æ–¹æ–‡æ¡£. https://spring.io/projects/spring-boot

[2] MyBatis-Pluså®˜æ–¹æ–‡æ¡£. https://baomidou.com/

[3] æ”¯ä»˜å®å¼€æ”¾å¹³å°. https://opendocs.alipay.com/

[4] Vue.jså®˜æ–¹æ–‡æ¡£. https://vuejs.org/

[5] Element Plusæ–‡æ¡£. https://element-plus.org/

---

## å…­ã€å°ç»“ - AIè¾…åŠ©å®Œæˆå®éªŒçš„å¿ƒå¾—ä½“ä¼š

### 6.1 æç¤ºè¯ä½¿ç”¨æŠ€å·§

åœ¨æœ¬å®éªŒä¸­ï¼Œæˆ‘ä½¿ç”¨AIè¾…åŠ©å®Œæˆäº†ä»ç³»ç»Ÿè®¾è®¡åˆ°ä»£ç å®ç°ã€æµ‹è¯•ã€éƒ¨ç½²çš„å…¨è¿‡ç¨‹ã€‚

**æœ‰æ•ˆçš„æç¤ºè¯ç­–ç•¥**ï¼š

**1. éœ€æ±‚åˆ†æé˜¶æ®µ**ï¼š
```
"æˆ‘éœ€è¦å¼€å‘ä¸€ä¸ªç”µå•†å¹³å°ï¼Œè¯·åˆ†æéœ€æ±‚å¹¶ç»™å‡ºï¼š
1. ç³»ç»ŸåŠŸèƒ½æ¨¡å—åˆ’åˆ†
2. æŠ€æœ¯é€‰å‹å»ºè®®ï¼ˆSpring Bootç”Ÿæ€ï¼‰
3. æ•°æ®åº“è¡¨è®¾è®¡"
```

**2. ä»£ç å®ç°é˜¶æ®µ**ï¼š
```
"ä½¿ç”¨MyBatis-Pluså®ç°è´­ç‰©è½¦Serviceï¼Œè¦æ±‚ï¼š
1. ä½¿ç”¨Redisç¼“å­˜ï¼ˆkey: oms:cart:userIdï¼‰
2. æ”¯æŒæ·»åŠ ã€åˆ é™¤ã€æ›´æ–°æ•°é‡
3. ç¼“å­˜å¤±æ•ˆç­–ç•¥ï¼šæ›´æ–°æ—¶åˆ é™¤ç¼“å­˜
4. æ·»åŠ è¯¦ç»†æ³¨é‡Š"
```

**3. é—®é¢˜è§£å†³é˜¶æ®µ**ï¼š
```
"é‡åˆ°é”™è¯¯ï¼šJWT tokenéªŒè¯å¤±è´¥
é”™è¯¯ä¿¡æ¯ï¼š'Cannot verify token'
ç›¸å…³ä»£ç ï¼š[ç²˜è´´ä»£ç ]
è¯·åˆ†æåŸå› å¹¶ç»™å‡ºè§£å†³æ–¹æ¡ˆ"
```

### 6.2 æ•ˆç‡æå‡åˆ†æ

**ä¼ ç»Ÿå¼€å‘ vs AIè¾…åŠ©å¼€å‘**ï¼š

| å¼€å‘é˜¶æ®µ | ä¼ ç»Ÿæ—¶é—´ | AIè¾…åŠ©æ—¶é—´ | æ•ˆç‡æå‡ |
|---------|---------|-----------|---------|
| éœ€æ±‚åˆ†æä¸æ¶æ„è®¾è®¡ | 8å°æ—¶ | 3å°æ—¶ | 62.5% â†‘ |
| æ ¸å¿ƒä»£ç ç¼–å†™ | 24å°æ—¶ | 10å°æ—¶ | 58.3% â†‘ |
| å•å…ƒæµ‹è¯•ç¼–å†™ | 6å°æ—¶ | 2å°æ—¶ | 66.7% â†‘ |
| Bugä¿®å¤ä¸è°ƒè¯• | 8å°æ—¶ | 3å°æ—¶ | 62.5% â†‘ |
| **æ€»è®¡** | **54å°æ—¶** | **20.5å°æ—¶** | **62.0% â†‘** |

**å…·ä½“æå‡ç‚¹**ï¼š
- ä»£ç ç”Ÿæˆé€Ÿåº¦æå‡4-6å€
- Bugä¿®å¤é€Ÿåº¦æå‡6å€
- æ–‡æ¡£ç¼–å†™æ•ˆç‡æå‡4å€
- æ–°æŠ€æœ¯å­¦ä¹ æ›²çº¿é™ä½80%

### 6.3 èƒ½åŠ›æå‡ä¸å±€é™æ€§

**AIå¸¦æ¥çš„èƒ½åŠ›æå‡**ï¼š
1. **æ¶æ„è®¾è®¡èƒ½åŠ›**ï¼šé€šè¿‡AIç»™å‡ºçš„å¤šç§æ–¹æ¡ˆå¯¹æ¯”ï¼Œå­¦ä¹ ä¸åŒæ¶æ„æ¨¡å¼
2. **ä»£ç è´¨é‡æ„è¯†**ï¼šAIç”Ÿæˆçš„ä»£ç åŒ…å«å®Œæ•´çš„å¼‚å¸¸å¤„ç†å’Œæ³¨é‡Š
3. **çŸ¥è¯†å¹¿åº¦æ‰©å±•**ï¼šå¿«é€Ÿå­¦ä¹ è·¨é¢†åŸŸçŸ¥è¯†ï¼ˆDevOpsã€å®‰å…¨ã€æ€§èƒ½ä¼˜åŒ–ï¼‰
4. **é—®é¢˜è§£å†³æ•ˆç‡**ï¼šAIä¸ä»…ç»™å‡ºè§£å†³æ–¹æ¡ˆï¼Œè¿˜èƒ½è§£é‡ŠåŸç†

**AIçš„å±€é™æ€§**ï¼š
1. **ä¸Šä¸‹æ–‡ç†è§£é™åˆ¶**ï¼šAIæ— æ³•å®Œå…¨ç†è§£é¡¹ç›®çš„ä¸šåŠ¡èƒŒæ™¯å’Œç‰¹æ®Šéœ€æ±‚
2. **ä»£ç å¯é æ€§é—®é¢˜**ï¼šAIç”Ÿæˆçš„ä»£ç å¯èƒ½åŒ…å«bugï¼Œå¿…é¡»äººå·¥å®¡æŸ¥
3. **æŠ€æœ¯æ ˆæ›´æ–°æ»å**ï¼šAIè®­ç»ƒæ•°æ®æœ‰æˆªæ­¢æ—¥æœŸï¼Œæœ€æ–°æŠ€æœ¯å¯èƒ½ä¸æ”¯æŒ
4. **å¤æ‚ä¸šåŠ¡é€»è¾‘**ï¼šAIéš¾ä»¥å¤„ç†å¤æ‚çš„ä¸šåŠ¡è§„åˆ™å’Œå¼‚å¸¸åœºæ™¯

### 6.4 æœªæ¥å±•æœ›

**AIè¾…åŠ©ç¼–ç¨‹çš„å‘å±•è¶‹åŠ¿**ï¼š
1. **æ›´æ™ºèƒ½çš„ä»£ç ç†è§£**ï¼šAIå°†èƒ½å¤Ÿåˆ†ææ•´ä¸ªé¡¹ç›®ä»£ç åº“ï¼Œç†è§£æ¨¡å—ä¾èµ–å…³ç³»
2. **å®æ—¶åä½œå¼€å‘**ï¼šAIä½œä¸º"ç»“å¯¹ç¼–ç¨‹ä¼™ä¼´"ï¼Œå®æ—¶æä¾›ä»£ç å»ºè®®
3. **è‡ªåŠ¨åŒ–æµ‹è¯•ä¸éƒ¨ç½²**ï¼šAIè‡ªåŠ¨ç”Ÿæˆç«¯åˆ°ç«¯æµ‹è¯•ã€CI/CDé…ç½®
4. **ä½ä»£ç /æ— ä»£ç å¼€å‘**ï¼šé€šè¿‡è‡ªç„¶è¯­è¨€æè¿°ç”Ÿæˆå®Œæ•´åº”ç”¨

**å¯¹å¼€å‘è€…çš„å½±å“**ï¼š
- âœ… å¼€å‘æ•ˆç‡æå‡50%+
- âœ… å­¦ä¹ æ–°æŠ€æœ¯æˆæœ¬é™ä½60%
- âš ï¸ åˆçº§ç¼–ç å²—ä½å‡å°‘
- âœ… éœ€è¦æå‡æ¶æ„è®¾è®¡ã€ä¸šåŠ¡ç†è§£èƒ½åŠ›

**æ€»ç»“**ï¼šAIè¾…åŠ©å¼€å‘æ˜¯å¤§åŠ¿æ‰€è¶‹ï¼Œå®ƒä¸æ˜¯æ›¿ä»£å¼€å‘è€…ï¼Œè€Œæ˜¯**èµ‹èƒ½å¼€å‘è€…**ã€‚æœªæ¥çš„ç¨‹åºå‘˜å°†æ˜¯"AIé©¾é©¶å‘˜"è€Œé"æ‰“å­—å‘˜"ã€‚

å…³é”®èƒ½åŠ›æ˜¯ï¼š
- ğŸ¯ **æé—®èƒ½åŠ›**ï¼šå¦‚ä½•è®©AIç†è§£éœ€æ±‚
- ğŸ” **é‰´åˆ«èƒ½åŠ›**ï¼šå¦‚ä½•åˆ¤æ–­AIè¾“å‡ºçš„è´¨é‡
- ğŸš€ **åˆ›æ–°èƒ½åŠ›**ï¼šå¦‚ä½•åšAIåšä¸åˆ°çš„äº‹æƒ…ï¼ˆåˆ›æ–°è®¾è®¡ã€å¤æ‚å†³ç­–ï¼‰

åœ¨æœ¬å®éªŒä¸­ï¼ŒAIå¸®åŠ©æˆ‘èŠ‚çœäº†**60%+**çš„å¼€å‘æ—¶é—´ï¼Œè®©æˆ‘èƒ½å¤Ÿä¸“æ³¨äºç³»ç»Ÿæ¶æ„è®¾è®¡å’Œä¸šåŠ¡é€»è¾‘ä¼˜åŒ–ï¼Œè€Œä¸æ˜¯é‡å¤æ€§çš„ç¼–ç å·¥ä½œã€‚è¿™å……åˆ†è¯´æ˜äº†AIè¾…åŠ©å¼€å‘çš„å·¨å¤§ä»·å€¼ã€‚

---

**å®éªŒæ€»ç»“**ï¼š

æœ¬å®éªŒæˆåŠŸè®¾è®¡å¹¶å®ç°äº†ä¸€ä¸ªåŠŸèƒ½å®Œæ•´çš„ç”µå­å•†åŠ¡å¹³å°ï¼Œæ¶µç›–äº†ç”¨æˆ·ç®¡ç†ã€å•†å“ç®¡ç†ã€è´­ç‰©è½¦ã€è®¢å•æ”¯ä»˜ã€é”€å”®ç»Ÿè®¡ç­‰æ ¸å¿ƒåŠŸèƒ½ã€‚é€šè¿‡AIè¾…åŠ©å¼€å‘ï¼Œå¤§å¤§æå‡äº†å¼€å‘æ•ˆç‡å’Œä»£ç è´¨é‡ï¼Œä¸ºæœªæ¥çš„å…¨æ ˆå¼€å‘ç§¯ç´¯äº†å®è´µç»éªŒã€‚

**è‡´è°¢**ï¼š

æ„Ÿè°¢AIæŠ€æœ¯ï¼ˆClaude Codeï¼‰åœ¨æœ¬å®éªŒä¸­æä¾›çš„å¼ºå¤§æ”¯æŒï¼Œè®©æˆ‘èƒ½å¤Ÿæ›´ä¸“æ³¨äºç³»ç»Ÿè®¾è®¡å’Œæ¶æ„ä¼˜åŒ–ï¼Œè€Œéé‡å¤æ€§çš„ç¼–ç å·¥ä½œã€‚

---

**é™„å½•**ï¼š
- æºä»£ç åœ°å€ï¼šhttps://github.com/your-username/emart
- åœ¨çº¿æ¼”ç¤ºï¼šhttp://123.45.67.89:8080
- Swaggeræ–‡æ¡£ï¼šhttp://123.45.67.89:8080/swagger-ui.html
